# gemini-refresh-worker environment variables

# Required: Database URL (must match the main gemini-business2api service)
DATABASE_URL=postgresql://user:password@host:5432/dbname?sslmode=require

# Optional: Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Optional: Health check port (0 = disabled)
HEALTH_PORT=8080

# ---- Independent control (override database settings) ----

# Force enable/disable scheduled refresh (overrides DB setting)
# When set, the worker ignores the scheduled_refresh_enabled value in the database
# FORCE_REFRESH_ENABLED=true

# Override refresh check interval in minutes (1-720, overrides DB setting)
# REFRESH_INTERVAL_MINUTES=30

# Override refresh window in hours (0-24, overrides DB setting)
# Accounts expiring within this window will be refreshed
# REFRESH_WINDOW_HOURS=1

# Override browser headless mode (true/false, overrides DB setting)
# BROWSER_HEADLESS=true

# Override proxy for authentication (overrides DB setting)
# PROXY_FOR_AUTH=socks5://127.0.0.1:1080

# ---- Account lifecycle management (override database settings) ----

# Auto-delete accounts whose credentials have expired (true/false)
# DELETE_EXPIRED_ACCOUNTS=false

# Auto-register new accounts when active count drops below minimum (true/false)
# AUTO_REGISTER_ENABLED=false

# Minimum number of active accounts to maintain (0 = disabled)
# When active accounts < this value, new accounts will be registered automatically
# MIN_ACCOUNT_COUNT=0

# ---- Registration settings (override database settings) ----

# Email domain for DuckMail registration
# REGISTER_DOMAIN=

# Default number of accounts to register in one batch (1-20)
# REGISTER_DEFAULT_COUNT=1
